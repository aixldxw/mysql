### 作业

- 查询2013级c语言程序设计的最高分是谁？

代码如下：

```sql
select t1.*,t2.grade,t3.ach,t4.name from t_stu t1 join t_classroom t2 on(t2.id=t1.cid) join t_stu_cur t3 on(t3.sid=t1.id) join t_course t4 on(t4.id=t3.cid) where t2.grade=2013 and t4.name='c语言程序设计' and t3.ach=(select max(t3.ach) from t_stu t1 join t_classroom t2 on(t2.id=t1.cid) join t_stu_cur t3 on(t3.sid=t1.id) join t_course t4 on(t4.id=t3.cid) where t2.grade=2013 and t4.name='c语言程序设计');
```

运行结果如下：

```sql
mysql> select t1.*,t2.grade,t3.ach,t4.name from t_stu t1 join t_classroom t2 on(t2.id=t1.cid) join t_stu_cur t3 on(t3.sid=t1.id) join t_course t4 on(t4.id=t3.cid) where t2.grade=2013 and t4.name='c语言程序设计' and t3.ach=(select max(t3.ach) from t_stu t1 join t_classroom t2 on(t2.id=t1.cid) join t_stu_cur t3 on(t3.sid=t1.id) join t_course t4 on(t4.id=t3.cid) where t2.grade=2013 and t4.name='c语言程序设计');
+----+------+-----------+------+------+--------+-------+------+---------------------+
| id | no   | name      | age  | cid  | gender | grade | ach  | name                |
+----+------+-----------+------+------+--------+-------+------+---------------------+
| 85 | 1084 | 李羽凡    |   18 |    4 | 男     |  2013 |   89 | c语言程序设计       |
+----+------+-----------+------+------+--------+-------+------+---------------------+
1 row in set (0.01 sec)
```

----

- 按照专业统计所有人数；

代码如下：

```sql
select t1.major, count(*) from t_classroom t1 left join t_stu t2 on(t2.cid=t1.id) group by t1.major;
```

运行结果如下：

```sql
mysql> select t1.major, count(*) from t_classroom t1 left join t_stu t2 on(t2.cid=t1.id) group by t1.major;
+-----------------+----------+
| major           | count(*) |
+-----------------+----------+
| 物联网专业      |       62 |
| 计算机专业      |      141 |
+-----------------+----------+
2 rows in set (0.00 sec)
```

----

- 统计每个专业的平均年龄，最小年龄和最大年龄。

代码如下：

```sql
select t1.major as '专业',avg(t2.age) as '平均年龄',max(t2.age) as '最大年龄',min(t2.age) as '最小年龄',count(t1.major) as '总人数' from t_classroom t1 left join t_stu t2 on(t2.cid=t1.id) group by t1.major;
```

运行结果如下：

```sql
mysql> select t1.major as '专业',avg(t2.age) as '平均年龄',max(t2.age) as '最大年龄',min(t2.age) as '最小年龄',count(t1.major) as '总人数' from t_classroom t1 left join t_stu t2 on(t2.cid=t1.id) group by t1.major;
+-----------------+--------------+--------------+--------------+-----------+
| 专业            | 平均年龄     | 最大年龄     | 最小年龄     | 总人数    |
+-----------------+--------------+--------------+--------------+-----------+
| 物联网专业      |      21.5323 |           25 |           18 |        62 |
| 计算机专业      |      21.6115 |           25 |           18 |       141 |
+-----------------+--------------+--------------+--------------+-----------+
2 rows in set (0.00 sec)
```

---
