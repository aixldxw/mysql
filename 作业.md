# 作业一：
## 高级查询
- ## *查询 2015级中网页设计不及格的同学*，命令如下
```sql
select t1.no as '学号',t1.name as '姓名',t2.grade as '年级',t2.name as '班级',t3.ach as '成绩',
t4.name as '课程' from t_stu t1 join t_classroom t2 on(t2.id=t1.cid) join t_stu_cur t3 on(t3.sid=t1.id) 
join t_course t4 on(t4.id=t3.cid) and t2.grade=2015 and t4.name='网页设计' and t3.ach<60;
```
#### 结果如下
```sql
mysql> select t1.no as '学号',t1.name as '姓名',t2.grade as '年级',t2.name as '班级',t3.ach as '成绩',
t4.name as '课程' from t_stu t1 join t_classroom t2 on(t2.id=t1.cid) join t_stu_cur t3 on(t3.sid=t1.id) 
join t_course t4 on(t4.id=t3.cid) and t2.grade=2015 and t4.name='网页设计' and t3.ach<60;
+--------+--------------+--------+-------------------------+--------+--------------+
| 学号   | 姓名         | 年级   | 班级                    | 成绩   | 课程         |
+--------+--------------+--------+-------------------------+--------+--------------+
| 1192   | 张雨涵       |   2015 | 15计算机网络            |     24 | 网页设计     |
| 1092   | 张静         |   2015 | 15计算机科学技术        |     56 | 网页设计     |
| 1172   | 赵辉         |   2015 | 15物联网技术            |     48 | 网页设计     |
| 1189   | 叶静         |   2015 | 15计算机网络            |     57 | 网页设计     |
| 1164   | 孙博         |   2015 | 15物联网技术            |     35 | 网页设计     |
| 1194   | 孙航         |   2015 | 15计算机网络            |     57 | 网页设计     |
| 1034   | 段劲         |   2015 | 15计算机科学技术        |     34 | 网页设计     |
| 1137   | 段立颖       |   2015 | 15计算机网络            |     31 | 网页设计     |
| 1134   | 令狐宇航     |   2015 | 15计算机网络            |     42 | 网页设计     |
| 1125   | 张立勇       |   2015 | 15物联网技术            |     28 | 网页设计     |
| 1185   | 刘俞         |   2015 | 15计算机科学技术        |     29 | 网页设计     |
| 1036   | 王胜         |   2015 | 15计算机网络            |     35 | 网页设计     |
| 1052   | 孙辉         |   2015 | 15物联网技术            |     43 | 网页设计     |
| 1137   | 段立颖       |   2015 | 15计算机网络            |     51 | 网页设计     |
| 1050   | 李童         |   2015 | 15计算机网络            |     50 | 网页设计     |
| 1194   | 孙航         |   2015 | 15计算机网络            |     45 | 网页设计     |
| 1193   | 赵定         |   2015 | 15物联网技术            |     54 | 网页设计     |
| 1189   | 叶静         |   2015 | 15计算机网络            |     24 | 网页设计     |
| 1074   | 段宇航       |   2015 | 15物联网技术            |     51 | 网页设计     |
| 1137   | 段立颖       |   2015 | 15计算机网络            |     37 | 网页设计     |
+--------+--------------+--------+-------------------------+--------+--------------+
20 rows in set (0.00 sec)
```
- ## 查询2014级中所有的课程，并且选取一门课程来获取所有女同学的成绩
#### 1.查询2014级中所有课程，命令代码如下：
```sql
select distinct t2.grade as '年级',t4.name as '课程' from t_stu t1 join t_classroom t2 
on(t2.id=t1.cid) join t_stu_cur t3 on(t3.sid=t1.id) join t_course t4 on(t4.id=t3.cid) 
and t2.grade=2014;
```
#### 结果如下
```sql
mysql> select distinct t2.grade as '年级',t4.name as '课程' from t_stu t1 join t_classroom 
t2 on(t2.id=t1.cid) join t_stu_cur t3 on(t3.sid=t1.id) join t_course t4 on(t4.id=t3.cid) 
and t2.grade=2014;
+--------+---------------------+
| 年级   | 课程                |
+--------+---------------------+
|   2014 | 网页设计            |
|   2014 | 计算机网络          |
|   2014 | java程序设计        |
|   2014 | c语言程序设计       |
+--------+---------------------+
4 rows in set (0.01 sec)
```
#### 2.选取一门来获取所有女同学的成绩，命令代码如下：
```sql
select t1.no as '学号',t1.name as '姓名',t1.gender as '性别',t2.name as '班级',t3.ach as '成绩',
t4.name as '课程' from t_stu t1 join t_classroom t2 on(t2.id=t1.cid) join t_stu_cur t3 
on(t3.sid=t1.id) join t_course t4 on(t4.id=t3.cid) and t1.gender='女' and t4.name='计算机网络';
```
#### 结果如下
```sql
mysql> select t1.no as '学号',t1.name as '姓名',t1.gender as '性别',t2.name as '班级',t3.ach as '成绩',
t4.name as '课程' from t_stu t1 join t_classroom t2 on(t2.id=t1.cid) join t_stu_cur t3 on(t3.sid=t1.id) 
join t_course t4 on(t4.id=t3.cid) and t1.gender='女' and t4.name='计算机网络';
+--------+--------------+--------+-------------------------+--------+-----------------+
| 学号   | 姓名         | 性别   | 班级                    | 成绩   | 课程            |
+--------+--------------+--------+-------------------------+--------+-----------------+
| 1111   | 李雨涵       | 女     | 13计算机网络            |     37 | 计算机网络      |
| 1176   | 张童         | 女     | 14物联网技术            |     81 | 计算机网络      |
| 1185   | 刘俞         | 女     | 15计算机科学技术        |     41 | 计算机网络      |
| 1017   | 王航         | 女     | 15计算机网络            |     63 | 计算机网络      |
| 1082   | 赵静         | 女     | 13计算机应用            |     31 | 计算机网络      |
| 1135   | 夏侯皓       | 女     | 13计算机网络            |     56 | 计算机网络      |
| 1001   | 夏侯羽凡     | 女     | 13计算机应用            |     89 | 计算机网络      |
| 1026   | 陈睿         | 女     | 14物联网技术            |     23 | 计算机网络      |
| 1109   | 王泉         | 女     | 15物联网技术            |     74 | 计算机网络      |
| 1187   | 叶睿         | 女     | 15计算机科学技术        |     31 | 计算机网络      |
| 1157   | 夏侯劲       | 女     | 15计算机科学技术        |     75 | 计算机网络      |
| 1054   | 夏侯睿       | 女     | 13计算机应用            |     83 | 计算机网络      |
| 1099   | 李劲         | 女     | 14物联网技术            |     73 | 计算机网络      |
| 1019   | 陈雨涵       | 女     | 14物联网技术            |     44 | 计算机网络      |
| 1110   | 李皓         | 女     | 13计算机网络            |     36 | 计算机网络      |
| 1103   | 王俞         | 女     | 13计算机网络            |     88 | 计算机网络      |
| 1166   | 赵童         | 女     | 14计算机科学技术        |     75 | 计算机网络      |
| 1051   | 赵航         | 女     | 14计算机科学技术        |     88 | 计算机网络      |
| 1019   | 陈雨涵       | 女     | 14物联网技术            |     77 | 计算机网络      |
| 1153   | 叶皓         | 女     | 13物联网技术            |     59 | 计算机网络      |
| 1140   | 孔冲         | 女     | 13计算机网络            |     70 | 计算机网络      |
| 1150   | 孔柏         | 女     | 13计算机科学技术        |     68 | 计算机网络      |
| 1066   | 孙泉         | 女     | 15计算机科学技术        |     89 | 计算机网络      |
| 1124   | 令狐胜       | 女     | 14计算机网络            |     66 | 计算机网络      |
| 1019   | 陈雨涵       | 女     | 14物联网技术            |     69 | 计算机网络      |
| 1153   | 叶皓         | 女     | 13物联网技术            |     24 | 计算机网络      |
| 1110   | 李皓         | 女     | 13计算机网络            |     26 | 计算机网络      |
| 1149   | 王睿         | 女     | 14计算机网络            |     33 | 计算机网络      |
| 1169   | 夏侯立勇     | 女     | 15计算机网络            |     92 | 计算机网络      |
| 1011   | 叶雨涵       | 女     | 15计算机科学技术        |     59 | 计算机网络      |
| 1095   | 孔阜,        | 女     | 13计算机网络            |     22 | 计算机网络      |
| 1150   | 孔柏         | 女     | 13计算机科学技术        |     23 | 计算机网络      |
| 1125   | 张立勇       | 女     | 15物联网技术            |     23 | 计算机网络      |
| 1164   | 孙博         | 女     | 15物联网技术            |     90 | 计算机网络      |
| 1177   | 李柏         | 女     | 14物联网技术            |     53 | 计算机网络      |
| 1176   | 张童         | 女     | 14物联网技术            |     22 | 计算机网络      |
| 1052   | 孙辉         | 女     | 15物联网技术            |     67 | 计算机网络      |
| 1128   | 王泉         | 女     | 15计算机网络            |     81 | 计算机网络      |
| 1109   | 王泉         | 女     | 15物联网技术            |     48 | 计算机网络      |
| 1037   | 刘辉         | 女     | 13计算机科学技术        |     53 | 计算机网络      |
| 1135   | 夏侯皓       | 女     | 13计算机网络            |     93 | 计算机网络      |
| 1008   | 刘泉         | 女     | 14计算机科学技术        |     89 | 计算机网络      |
| 1017   | 王航         | 女     | 15计算机网络            |     25 | 计算机网络      |
| 1003   | 李劲         | 女     | 13计算机科学技术        |     55 | 计算机网络      |
| 1150   | 孔柏         | 女     | 13计算机科学技术        |     52 | 计算机网络      |
| 1095   | 孔阜,        | 女     | 13计算机网络            |     45 | 计算机网络      |
| 1039   | 夏侯柏       | 女     | 15物联网技术            |     65 | 计算机网络      |
| 1099   | 李劲         | 女     | 14物联网技术            |     67 | 计算机网络      |
| 1176   | 张童         | 女     | 14物联网技术            |     31 | 计算机网络      |
| 1150   | 孔柏         | 女     | 13计算机科学技术        |     74 | 计算机网络      |
| 1110   | 李皓         | 女     | 13计算机网络            |     27 | 计算机网络      |
| 1001   | 夏侯羽凡     | 女     | 13计算机应用            |     58 | 计算机网络      |
| 1059   | 孙童         | 女     | 14物联网技术            |     93 | 计算机网络      |
| 1135   | 夏侯皓       | 女     | 13计算机网络            |     75 | 计算机网络      |
| 1177   | 李柏         | 女     | 14物联网技术            |     79 | 计算机网络      |
| 1032   | 孙冲         | 女     | 14计算机科学技术        |     70 | 计算机网络      |
| 1119   | 赵睿         | 女     | 13计算机网络            |     45 | 计算机网络      |
+--------+--------------+--------+-------------------------+--------+-----------------+
57 rows in set (0.01 sec)
```
# 作业二：
## 从零开始完成专业，班级，学生，成绩，学院，教师结构的设计

### 关系：
```
学生与班级是多对一的关系，在学生表里面加一个班级的外键，
班级与学院是多对一的关系，在班级表里面加一个学院的外键，
班级与老师是多对一的关系，在班级表里面加一个老师的外键，
成绩与学生是一对一的关系，在成绩表里面加一个学生的外键。
```
### 各个表中的项:
```
t_college(id,name);
t_teacher(id,name);
t_class(id,grade,major,name,teacherid,collegeid);
t_student(id,name,classid);
t_achievement(id,studentid,classid,achievement);
```
### 创建表格：
```sql
create table t_college(
  id int(10) primary key auto_increment,
  name varchar(100)
);

create table t_teacher(
  id int(10) primary key auto_increment,
  name varchar(100)
);

create table t_class(
  id int(10) primary key auto_increment,
  grade varchar(100),
  major varchar(100),
  name varchar(100),
  teacherid int(10),
  collegeid int(10),
  constraint foreign key (teacherid) references t_teacher (id),
  constraint foreign key (collegeid) references t_college (id)
);

create table t_student(
  id int(10) primary key auto_increment,
  name varchar(100),
  classid int(10),
  constraint foreign key (classid) references t_class (id)
);

create table t_achievement(
  id int(10) primary key auto_increment,
  studentid int(10),
  classid int(10),
  achievement int(100),
  constraint foreign key (studentid) references t_student (id),
  constraint foreign key (classid) references t_class (id)
);

//结果如下：
mysql> show tables;
+---------------------+
| Tables_in_20wlw_wlx |
+---------------------+
| t_achievement       |
| t_class             |
| t_college           |
| t_student           |
| t_teacher           |
+---------------------+
5 rows in set (0.00 sec)
```
### 利用insert插入一些数据之后可得到如下结果
```sql
mysql> select t1.*,t2.major,t2.name as '班级',t3.name as '学院',t4.name as '老师',t5.achievement 
as '成绩' from t_student t1 join t_class t2 on(t2.id=t1.classid) join t_college t3 
on(t3.id=t2.collegeid) join t_teacher t4 on(t4.id=t2.teacherid) join t_achievement t5 on(t5.studentid=t1.id);
+----+--------+---------+--------------------+---------------------------+-----------------+-----------+--------+
| id | name   | classid | major              | 班级                      | 学院            | 老师      | 成绩   |
+----+--------+---------+--------------------+---------------------------+-----------------+-----------+--------+
|  1 | 张三   |       2 | 数字媒体技术       | 2019级数字媒体技术        | 物信学院        | 刘老师    |     69 |
|  2 | 李四   |       5 | 汉语言文学         | 2018级汉语言文学          | 人文学院        | 李老师    |     83 |
|  3 | 王五   |       3 | 英语               | 2018级英语1班             | 外国语学院      | 张老师    |     66 |
|  4 | 王佳   |       1 | 物联网工程         | 2018级物联网工程          | 物信学院        | 王老师    |     59 |
|  5 | 李明   |       5 | 汉语言文学         | 2018级汉语言文学          | 人文学院        | 李老师    |     64 |
|  6 | 周涛   |       2 | 数字媒体技术       | 2019级数字媒体技术        | 物信学院        | 刘老师    |     73 |
|  7 | 姜丽   |       1 | 物联网工程         | 2018级物联网工程          | 物信学院        | 王老师    |     58 |
|  8 | 邓师   |       7 | 历史学             | 2019级历史学              | 人文学院        | 郝老师    |     74 |
|  9 | 郝建   |       6 | 英语               | 2019级英语2班             | 外国语学院      | 张老师    |     68 |
| 10 | 唐莉   |       2 | 数字媒体技术       | 2019级数字媒体技术        | 物信学院        | 刘老师    |     71 |
| 11 | 李嘉   |       4 | 美术               | 2019级美术2班             | 艺术学院        | 朱老师    |     80 |
| 12 | 王浩   |       3 | 英语               | 2018级英语1班             | 外国语学院      | 张老师    |     77 |
| 13 | 周杰   |       6 | 英语               | 2019级英语2班             | 外国语学院      | 张老师    |     60 |
| 14 | 杨凯   |       4 | 美术               | 2019级美术2班             | 艺术学院        | 朱老师    |     79 |
| 15 | 成昆   |       7 | 历史学             | 2019级历史学              | 人文学院        | 郝老师    |     65 |
+----+--------+---------+--------------------+---------------------------+-----------------+-----------+--------+
15 rows in set (0.00 sec)
```
